{% load staticfiles %}

<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script>
      src="http://code.jquery.com/jquery-3.3.1.js"
      integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
      crossorigin="anonymous"
    </script>
    <link rel="stylesheet" type="text/css" href="{% static 'service_all.css' %}" />
    <link rel="shortcut icon" type="image⁄x-icon" href="{% static 'logo_dog.png' %}"/>
    <style type="text/css">
      a:link { color: none; text-decoration: none;}
      a:visited { color: none; text-decoration: none;}
      a:hover { color: none; text-decoration: none;}
    </style>
    <title>gugudog</title>
  </head>
  <body>
    <div class="banner top">
      <h2><a class="gugubanner" href="{% url 'home'%}">gugudog</a></h2>
    </div>

    <div class="category">
      <div class="category_btn"><a href="{% url 'service_all'%}"><h5>전체</h5></a><div class="btn_chosen"></div></div>
      <div class="category_btn"><a href="{% url 'hot'%}"><h5>HOT</h5></a><div id="line" class="btn_default"></div></div>
      <div class="category_btn"><h5>NEW</h5><div id="line" class="btn_default"></div></div>
      <div class="category_btn"><h5>태그별</h5><div id="line" class="btn_default"></div></div>
      <div class="category_btn"><a href="{% url 'recommendation'%}"><h5>My추천</h5></a><div id="line" class="btn_default"></div></div>
    </div>

    <div class="slider main_banner">
      <img class="banner_img hide" src="{% static 'main_banner_example.png' %}" >
      <img class="banner_img hide" src="{% static 'detail_banner_netflix.png' %}" >
      <img class="banner_img hide" src="{% static 'YTP_logo.png' %}" >
    </div>

    <div class="service">
      <!-- 모든 등록된 service를 불러와서 회사명과 서비스명을 보여줍니다 -->
      {% for service in services %}
      <div class="service_box"><a href="{% url 'service_detail' service.pk %}" style="width: 100%;">{{service}}</a></div>
      {% endfor %}

      <div class="service_box">
        <div class="service_banner"><img class="banner_img circle" src="{% static 'detail_banner_wcafe.jpg' %}" /></div>
        <div class="service_detail">
          <div class="description title">W카페</div>
          <div class="description content">3시간마다 리필되는<br> 커피 한잔</div>
          <div class="description price">월 20,000원</div>
        </div>
      </div>

      <div class="service_box">
        <div class="service_banner"><img class="banner_img circle" src="{% static 'detail_banner_weeklyshirts.jpg' %}" /></div>
        <div class="service_detail">
          <div class="description title">Weekly Shirts</div>
          <div class="description content">관리하기 힘든 셔츠,<br>집앞에서 받아보세요.</div>
          <div class="description price">월 49,000원</div>
        </div>
      </div>   

      <div class="service_box">
        <div class="service_banner"><img class="banner_img circle" src="{% static 'detail_banner_netflix.png' %}" /></div>
        <div class="service_detail">
          <div class="description title">NETFLIX</div>
          <div class="description content">끝없는 무제한 컨텐츠. 한달 무료체험 해보세요.</div>
          <div class="description price">월 14,500원</div>
        </div>
      </div>   
      

    </div>

    <div class="banner bottom">
      <a href="{% url 'service_all'%}"><img id="serviceall" src="{% static 'bottom_serviceall_gray.png' %}" /></a>
      <a href="{% url 'home'%}"><img id="home" src="{% static 'bottom_home.png' %}"/></a>
      <img id="mypage" src="{% static 'bottom_mypage_gray.png' %}" />
    </div>

    <script>
      var listPict = document.getElementsByClassName('slider')[0].children;
      //This is the latest img, it will serve to know wich img to hide
      var old = listPict.length - 1;
      //This will represent the current img to show
      var current = 0;
      console.log(listPict);
      console.log(old);

      //The timeout will recall this function every 3 sec
      function loop() {

        listPict[current].setAttribute('class', 'show');
        listPict[old].setAttribute('class', 'hide');
        console.log(listPict[current], listPict[old]);

        //Update the variables !
        old = current;
        current++;

        //If the current is bigger then the list of images, return to 0
        if (current === listPict.length)
            current = 0;

        //Recall every 3 sec
        //Note that we don't put () because we don't want to execute it right away
        setTimeout(loop, 3000);
        }

        loop();
      </script>

  </body>
  
</html>
